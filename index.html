<!DOCTYPE html>
<html>
  <head>
    <title>My first three.js app</title>
    <style>
      body { margin: 0; }
    </style>
  </head>
  <body>
    <script type="importmap">
      {
        "imports": {
          "three" : "./js/three.module.js",
          "three/loaders/": "./jsm/loaders/"
        }
      }
    </script>

    <script type="module">
      import * as THREE from 'three';
      import { GLTFLoader } from 'three/loaders/GLTFLoader.js';

      let mouseX = 0, mouseY = 0;

      const scene = new THREE.Scene(); 
      scene.background = new THREE.Color(0x333333);

      // Ambient light
      const ambientLight = new THREE.AmbientLight(0xcccccc, 0.5); 
      scene.add(ambientLight);

      // Directional light
      const light = new THREE.DirectionalLight(0xFFFFFF, 1); 
      scene.add(light); 

      // Point light
      const pointLight = new THREE.PointLight(0xffffff, 0.8); 
      scene.add(pointLight);

      // Ground
      const geometry = new THREE.PlaneGeometry(1000, 1000);
      const material = new THREE.MeshBasicMaterial({color: 0x666666, side: THREE.DoubleSide});
      const plane = new THREE.Mesh(geometry, material);
      plane.rotation.x = Math.PI / 2;
      scene.add(plane);

      const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 2000); 
      camera.position.z = 500;

      const renderer = new THREE.WebGLRenderer(); 
      renderer.setPixelRatio(window.devicePixelRatio); 
      renderer.setSize(window.innerWidth, window.innerHeight); 
      document.body.appendChild(renderer.domElement);

      function animate() { 
        requestAnimationFrame(animate); 
        render(); 
      }

      function render() { 
        camera.position.x += (mouseX - camera.position.x) * .05; 
        camera.position.y += (-mouseY - camera.position.y) * .05; 
        camera.lookAt(new THREE.Vector3(0, 10, 0)); 
        renderer.render(scene, camera); 
      }

      const GLTFFILE = '/gltf/533934_bldg_6677_obj.glb'; 
      const gltfLoader = new GLTFLoader();
      gltfLoader.load(GLTFFILE, (gltf) => { 
        scene.add(gltf.scene); 
      }, undefined, (error) => { 
        console.error(error); 
      });

      animate();

    </script>
  </body>
</html>
